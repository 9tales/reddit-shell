$(function(){function t(t){return function(e,a,s,n){b=!0;var i=e.get_prompt(),r=0;if(a.length>0){e.set_prompt("[guest@reddit ~]# ");var _=setInterval(function(){e.insert(a[r++]),r==a.length&&(clearInterval(_),setTimeout(function(){t(e,a,i),b=!1,n&&n()},s))},s)}}}function e(t){t.echo("<div style='width:100%;float: left;text-align: left;' id='greeting'><div style=' font-weight: bold;width:100%;white-space:nowrap;float:left;line-height: 7px;font-size: 7px;color: #2FD4CE;padding-left:5px;' id='ascii'>_________<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>________<span style='color:transparent;'>__</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_________<span style='color:transparent;'>________</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>___<span style='color:transparent;'>_______</span>___<span style='color:transparent;'>__________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>|\\_______\\|\\______\\_|\\_______\\|\\_______\\|\\__\\|\\_________\\</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>|\\_______\\|\\__\\|\\__\\|\\______\\_|\\__\\<span style='color:transparent;'>_____</span>|\\__\\</span><span style='color:transparent;'>_________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>\\_\\__\\|\\__\\_\\_____/|\\_\\__\\_|\\_\\_\\__\\_|\\_\\_\\__\\|____\\__\\_|</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>\\_\\__\\___|\\_\\__\\\\\\__\\_\\_____/|\\_\\__\\<span style='color:transparent;'>____</span>\\_\\__\\</span><span style='color:transparent;'>________</span><br /><span style='color:transparent;'>_</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\__\\_|/_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\_______\\_\\__\\_|/_\\_\\__\\<span style='color:transparent'>____</span>\\_\\__\\</span><span style='color:transparent;'>_______</span><br /><span style='color:transparent;'>__<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\__\\_|\\_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\|____|\\__\\_\\__\\_\\__\\_\\__\\_|\\_\\_\\__\\____\\_\\__\\</span><span style='color:#fff;' id='asciitext'>_____</span><br /><span style='color:transparent;'>___<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\_______\\_\\_______\\_\\_______\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'></span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>_____<span style='color:#fff;' id='asciitext'>\\_\\__\\_\\__\\_\\__\\_\\_______\\_\\_______\\_\\_______\\</span></span><br /><span style='color:transparent;'>____<span style='color:#fff;' id='asciitext'>\\|__|\\|__|\\|_______|\\|_______|\\|_______|\\|__|</span></span><span style='color:transparent;'>____</span><span style='color:#fff;' id='asciitext'>\\|__|</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>|\\_________\\|__|\\|__|\\|_______|\\|_______|\\|_______|</span><br /><span style='color:transparent;'>_________________________________________________________________</span><span style='color:#fff;' id='asciitext'>\\|_________|</span><span style='color:transparent;'>_______________________________________</span><br /><span style='color:transparent;'>____________________________________________________________________________________________________________________</span></div><p/>reddit shell: web based shell emulator that allows you to browse<br />reddit programmatically - by <a href='https://twitter.com/jasonbeee' target='_blank'>@jasonbeee</a> - <a href='https://github.com/jasonbio/reddit-shell' target='_blank'>fork this project on GitHub</a><p />shorthand command support: <strong style='color:#fff;'>[ls|cd|subs|prev|set|img]</strong><br />tab completion support for: <strong style='color:#fff;'>subreddits, users, commands</strong><p /><b style='color:#fff;'>list</b> or <b style='color:#fff;'>list [subreddit]</b> to list the latest posts from the front page or specified subreddit<br /> <b style='color:#fff;'>list [subreddit] [new|rising|top|controversial]</b> to list posts from the specified subreddit in the specified order<br /> <b style='color:#fff;'>list [subreddit] [next|previous]</b> or <b style='color:#fff;'>list [next|previous]</b> to navigate through page listings<br /> <b style='color:#fff;'>list subreddits</b> to list all subreddits on reddit<br /><b style='color:#fff;'>list subreddits [next|previous]</b> to navigate through the subreddit list<br /><b style='color:#fff;'>view content [index]</b> to open the content URL in a new window<br /> <b style='color:#fff;'>view comments [index]</b> to view the comments for the post<br /><b style='color:#fff;'>view more comments</b> to load more base comments from the post<br /><b style='color:#fff;'>view more comments [index]</b> to load replies for the selected comment index<br /> <b style='color:#fff;'>search [search term]</b> to search reddit for something specific<br /><b style='color:#fff;'>search [next|previous]</b> to navigate through search results<br /><b style='color:#fff;'>user [username]</b> to get all comments and posts for the specified user<br /><b style='color:#fff;'>user [username] [next|previous]</b> to navigate through the specified users content<br /><b style='color:#fff;'>settings images [on|off]</b> set inline image display on or off<br /><b style='color:#fff;'>settings limit [auto|1-100]</b> set the limit on number of posts/comments to display<br /><b style='color:#fff;'>clear</b> to clear the screen<br /><b style='color:#fff;'>about</b> to display information and credits<br /><b style='color:#fff;'>help</b> to display these instructions again<p /></div>",{raw:!0})}function a(t){t.echo("<div style='width:100%;float: left;text-align: left;margin-top: 10px;padding-bottom: 10px;' id='greeting'><div style=' font-weight: bold;width:100%;white-space:nowrap;float:left;line-height: 7px;font-size: 7px;color: #2FD4CE;padding-left:5px;' id='ascii'>_________<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>________<span style='color:transparent;'>__</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_________<span style='color:transparent;'>________</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>___<span style='color:transparent;'>_______</span>___<span style='color:transparent;'>__________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>|\\_______\\|\\______\\_|\\_______\\|\\_______\\|\\__\\|\\_________\\</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>|\\_______\\|\\__\\|\\__\\|\\______\\_|\\__\\<span style='color:transparent;'>_____</span>|\\__\\</span><span style='color:transparent;'>_________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>\\_\\__\\|\\__\\_\\_____/|\\_\\__\\_|\\_\\_\\__\\_|\\_\\_\\__\\|____\\__\\_|</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>\\_\\__\\___|\\_\\__\\\\\\__\\_\\_____/|\\_\\__\\<span style='color:transparent;'>____</span>\\_\\__\\</span><span style='color:transparent;'>________</span><br /><span style='color:transparent;'>_</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\__\\_|/_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\_______\\_\\__\\_|/_\\_\\__\\<span style='color:transparent'>____</span>\\_\\__\\</span><span style='color:transparent;'>_______</span><br /><span style='color:transparent;'>__<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\__\\_|\\_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\|____|\\__\\_\\__\\_\\__\\_\\__\\_|\\_\\_\\__\\____\\_\\__\\</span><span style='color:#fff;' id='asciitext'>_____</span><br /><span style='color:transparent;'>___<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\_______\\_\\_______\\_\\_______\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'></span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>_____<span style='color:#fff;' id='asciitext'>\\_\\__\\_\\__\\_\\__\\_\\_______\\_\\_______\\_\\_______\\</span></span><br /><span style='color:transparent;'>____<span style='color:#fff;' id='asciitext'>\\|__|\\|__|\\|_______|\\|_______|\\|_______|\\|__|</span></span><span style='color:transparent;'>____</span><span style='color:#fff;' id='asciitext'>\\|__|</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>|\\_________\\|__|\\|__|\\|_______|\\|_______|\\|_______|</span><br /><span style='color:transparent;'>_________________________________________________________________</span><span style='color:#fff;' id='asciitext'>\\|_________|</span><span style='color:transparent;'>_______________________________________</span><br /><span style='color:transparent;'>____________________________________________________________________________________________________________________</span></div><p/>reddit shell is a web based linux shell emulator written in JavaScript that lets you browse and interact with reddit via command line<br /><a href='https://redditshell.com'>https://redditshell.com/</a><p />reddit shell is developed and maintained by <a href='http://jasonb.io/' target='_blank'>jason botello</a> and was first published on 9/5/2015<br />You can help contribute to the project on <a href='https://github.com/jasonbio/reddit-shell' target='_blank'>GitHub</a><p />reddit shell makes use of the following jQuery plugins:<br />- <a href='http://terminal.jcubic.pl/' target='_blank'>JQuery Terminal</a><br />- <a href='http://momentjs.com/' target='_blank'>Moment.js</a></div>",{raw:!0})}{var s=[],n=[],i=[],r=[],_="",d="",o="",l="",p="",c="",m=0,u=0,h=0,f=0,b=!1,y=!1,w=$(window.top).height(),g="limit="+(Math.round(w/54)-3)+"&",v=["help","about","clear","settings","more","comments","content","user","search","view","previous","prev","next","subreddits","list","reddit"],x=["help","about","clear","settings","more","comments","content","user","search","view","previous","prev","next","subreddits","list","reddit"];t(function(t,e){t.set_command(""),t.set_prompt(e+" ")}),t(function(t,e,a){t.set_command(""),t.echo(e),t.set_prompt(a)})}$("body").terminal(function(t,b){b.set_prompt("[guest@reddit ~]# ");var k="";if(t=t.trim(),t=t.replace(/[\[\]']+/g,""),command=t.split(" "),"reddit"!=command[0]&&command.unshift("reddit"),"ls"==command[1]&&(command[1]="list"),"cd"==command[1]&&(command[1]="list"),"pwd"==command[1]&&(command[1]="list"),"prev"==command[2]&&(command[2]="previous"),"subs"==command[2]&&(command[2]="subreddits"),"prev"==command[3]&&(command[3]="previous"),"set"==command[1]&&(command[1]="settings"),"reddit"!=command[0]||"list"!=command[1]||command[2])if("reddit"!=command[0]||"list"!=command[1]||"next"!=command[2]||command[3])if("reddit"!=command[0]||"list"!=command[1]||"previous"!=command[2]||command[3])if("reddit"!=command[0]||"list"!=command[1]||"subreddits"!=command[2]||command[3])if("reddit"==command[0]&&"list"==command[1]&&"subreddits"==command[2]&&"next"==command[3])d="",x=v,$.getJSON(_,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(url=this.data.url,display_name=this.data.display_name,x.push(display_name),title=this.data.title,line1="<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+h+"</span>] <a href='https://reddit.com"+url+"' target='_blank'>/r/"+display_name+" - "+title+"</a><br />",description=this.data.public_description,line2="<span style='color: #666;'>"+description+"</span><br />",subscribers=this.data.subscribers,created=this.data.created_utc,time=moment.unix(created).fromNow(),line3="<span style='color: #666;'>"+subscribers+" subscribers since starting "+time+"</span><p />",k=line1+line2+line3+"</div>",h+=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# "))});var a=t.data.after,s=t.data.before;null!=s&&(permalink="https://www.reddit.com/subreddits/.json?"+g+"count="+h+"&before="+s+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# ")),null!=a&&(permalink="https://www.reddit.com/subreddits/.json?"+g+"count="+h+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if("reddit"==command[0]&&"list"==command[1]&&"subreddits"==command[2]&&"previous"==command[3])_="",x=v,$.getJSON(d,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(url=this.data.url,display_name=this.data.display_name,x.push(display_name),title=this.data.title,line1="<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+h+"</span>] <a href='https://reddit.com"+url+"' target='_blank'>/r/"+display_name+" - "+title+"</a><br />",description=this.data.public_description,line2="<span style='color: #666;'>"+description+"</span><br />",subscribers=this.data.subscribers,created=this.data.created_utc,time=moment.unix(created).fromNow(),line3="<span style='color: #666;'>"+subscribers+" subscribers since starting "+time+"</span><p />",k=line1+line2+line3+"</div>",h-=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# "))});var a=t.data.after,s=t.data.before;null!=s&&(permalink="https://www.reddit.com/subreddits/.json?"+g+"count="+h+"&before="+s+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# ")),null!=a&&(permalink="https://www.reddit.com/subreddits/.json?"+g+"count="+h+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if("reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&!command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"new"==command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"top"==command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"controversial"==command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"rising"==command[3])s=[],n=[],i=[],r=[],_="",d="",o="",l="",p="",c="",m=0,u=0,h=0,f=0,command[3]&&(o=command[3]+"/"),x=v,$.getJSON("https://www.reddit.com/r/"+command[2]+"/"+o+".json?"+g+"jsonp=?",function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# "))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/r/"+command[2]+"/"+o+".json?"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# ")),null!=a&&(permalink="https://www.reddit.com/r/"+command[2]+"/"+o+".json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if("reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"==command[3])d="",x=v,$.getJSON(_,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# "))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# ")),null!=a&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if("reddit"==command[0]&&"list"==command[1]&&command[2]&&"previous"==command[3])_="",x=v,$.getJSON(d,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink+".json?jsonp=?",url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m-=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# "))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# ")),null!=a&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit "+command[2]+"]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if(0!==s.length&&"reddit"==command[0]&&"view"==command[1]&&"comments"==command[2]&&"more"!==command[3])n=[],u=0,l="",x=v,p=s[command[3]],$.getJSON(s[command[3]]+".json?"+g+"jsonp=?",function(t){var e=t[0].data.children;$(e).each(function(){"t3"==this.kind&&(author=this.data.author,x.push(author),created=this.data.created_utc,time=moment.unix(created).fromNow(),ups=this.data.ups,id=this.data.id,title=this.data.title,domain=this.data.domain,subreddit=this.data.subreddit,url=this.data.url,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style=' width: 100%;float: left;background-color: rgba(8, 171, 159, 0.14);padding: 10px;padding-bottom: 0px;margin-top: 10px;margin-bottom: 10px;'><a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),this.data.selftext&&(line1=line1+"<span style='color:#fff;padding: 10px;'>"+this.data.selftext+"</span><br />"),line2="<span>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",c=line1+line2+line3+"</div>",b.echo(k,{raw:!0}))});var a=t[1].data.children;$(a).each(function(){if("t1"==this.kind){var t="";if(author=this.data.author,x.push(author),body=this.data.body,created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='width:100%'>[<span style='color: #2C9A96;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),t=line1+line2+line3,b.echo(t,{raw:!0}),u+=1;for(var e=0,a=this.data.replies.data.children.length;a>e;e++)"t1"==this.data.replies.data.children[e].kind&&(nested_author=this.data.replies.data.children[e].data.author,nested_body=this.data.replies.data.children[e].data.body,nested_created=this.data.replies.data.children[e].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[e].data.ups,nested_count=this.data.replies.data.children[e].data.count,nested_id=this.data.replies.data.children[e].data.id,""!=this.data.replies.data.children[e].data.replies?(nested_count=this.data.replies.data.children[e].data.replies.data.children.length,nest_line1="<div style='margin-left:5%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-left:5%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})))}else nested_count=0,line1="<div style='width:100%'>[<span style='color: #2C9A96;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),u+=1,t=line1+line2+line3,b.echo(t,{raw:!0})}else if("more"==this.kind){morecount=this.data.count,morename=this.data.name,moreparent=this.data.parent_id,children="";for(var e=0,a=this.data.children.length;a>e;e++)children=children+this.data.children[e]+",";children=children.replace(/(^,)|(,$)/g,""),l="https://www.reddit.com/api/morechildren.json?"+g+"link_id="+moreparent+"&children="+children+"&id="+morename+"&api_type=json",more_line="<span>[<span style='color: #B3A600;'>"+morecount+" more comments</span>]<p />",b.echo(more_line,{raw:!0}),console.log(l)}}),b.set_prompt("[guest@reddit "+subreddit+"]# "),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if(""!=l&&"reddit"==command[0]&&"view"==command[1]&&"comments"==command[2]&&"more"==command[3]&&!command[4]||""!=l&&"reddit"==command[0]&&"view"==command[1]&&"more"==command[2]&&"comments"==command[3]&&!command[4])x=v,$.getJSON(l,function(t){l="",link_id="",morecount=0;var e=t.json.data.things;b.echo(c,{raw:!0}),$(e).each(function(){if("t1"==this.kind){var t="";if(author=this.data.author,x.push(author),body=this.data.body,created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,ups=this.data.ups,id=this.data.id,link_id=this.data.link_id,link_id=link_id.replace("t3_",""),""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='width:100%'>[<span style='color: #2C9A96;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),t=line1+line2+line3,b.echo(t,{raw:!0}),u+=1;for(var e=0,a=this.data.replies.data.children.length;a>e;e++)"t1"==this.data.replies.data.children[e].kind&&(nested_author=this.data.replies.data.children[e].data.author,nested_body=this.data.replies.data.children[e].data.body,nested_created=this.data.replies.data.children[e].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[e].data.ups,nested_count=this.data.replies.data.children[e].data.count,nested_id=this.data.replies.data.children[e].data.id,""!=this.data.replies.data.children[e].data.replies?(nested_count=this.data.replies.data.children[e].data.replies.data.children.length,nest_line1="<div style='margin-left:5%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-left:5%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})))}else nested_count=0,line1="<div style='width:100%'>[<span style='color: #2C9A96;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),u+=1,t=line1+line2+line3,b.echo(t,{raw:!0})}else if("more"==this.kind){morecount=this.data.count,morename=this.data.name,moreparent=this.data.parent_id,children="";for(var e=0,a=this.data.children.length;a>e;e++)children=children+this.data.children[e]+",";children=children.replace(/(^,)|(,$)/g,""),l="https://www.reddit.com/api/morechildren.json?"+g+"link_id=t3_"+link_id+"&children="+children+"&id="+morename+"&api_type=json",more_line="<span>[<span style='color: #B3A600;'>"+morecount+" more comments</span>]<p />"}}),""!=l&&b.echo(more_line,{raw:!0}),b.set_prompt("[guest@reddit "+subreddit+"]# "),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if(0!=n.index&&"reddit"==command[0]&&"view"==command[1]&&"comments"==command[2]&&"more"==command[3]&&command[4]||0!=n.index&&"reddit"==command[0]&&"view"==command[1]&&"more"==command[2]&&"comments"==command[3]&&command[4])x=v,$.getJSON(n[command[4]]+"/.json?jsonp=?",function(t){var e=t[0].data.children;$(e).each(function(){"t3"==this.kind&&(author=this.data.author,x.push(author),created=this.data.created_utc,time=moment.unix(created).fromNow(),ups=this.data.ups,id=this.data.id,title=this.data.title,domain=this.data.domain,subreddit=this.data.subreddit,url=this.data.url,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style=' width: 100%;float: left;background-color: rgba(8, 171, 159, 0.14);padding: 10px;padding-bottom: 0px;margin-top: 10px;margin-bottom: 10px;'><a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),this.data.selftext&&(line1=line1+"<span style='color:#fff;padding: 10px;'>"+this.data.selftext+"</span><br />"),line2="<span>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",b.echo(k,{raw:!0}))});var a=t[1].data.children;$(a).each(function(){if("t1"==this.kind){var t="";if(author=this.data.author,x.push(author),body=this.data.body,created=this.data.created_utc,time=moment.unix(created).fromNow(),ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='width:100%'>[<span style='color: #2C9A96;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),t=line1+line2+line3,b.echo(t,{raw:!0}),u+=1;for(var e=0,a=this.data.replies.data.children.length;a>e;e++)"t1"==this.data.replies.data.children[e].kind&&(nested_author=this.data.replies.data.children[e].data.author,nested_body=this.data.replies.data.children[e].data.body,nested_created=this.data.replies.data.children[e].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[e].data.ups,nested_count=this.data.replies.data.children[e].data.count,nested_id=this.data.replies.data.children[e].data.id,""!=this.data.replies.data.children[e].data.replies?(nested_count=this.data.replies.data.children[e].data.replies.data.children.length,nest_line1="<div style='margin-left:5%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-left:5%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})))
}else nested_count=0,line1="<div style='width:100%'>[<span style='color: #2C9A96;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),u+=1,t=line1+line2+line3,b.echo(t,{raw:!0})}}),b.set_prompt("[guest@reddit "+subreddit+"]# "),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else if(0!==s.length&&"reddit"==command[0]&&"view"==command[1]&&"content"==command[2]&&command[3]){var j=r[command[3]];j&&window.open(j)}else"reddit"==command[0]&&"search"==command[1]&&"next"!==command[2]&&"previous"!==command[2]?(x=v,s=[],sterm=[],sterm=command,sterm.splice(0,2),searchterm=sterm.join(" "),r=[],_="",d="",m=0,$.getJSON("https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"jsonp=?",function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,permalink=permalink.replace("?ref=search_posts",""),url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit search]# "))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit search]# ")),null!=a&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit search]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])})):0===s.length||"reddit"!=command[0]||"search"!=command[1]||"next"!=command[2]||command[3]?0===s.length||"reddit"!=command[0]||"search"!=command[1]||"previous"!=command[2]||command[3]?"reddit"==command[0]&&"user"==command[1]&&command[2]&&!command[3]?(x=v,n=[],s=[],r=[],_="",d="",u=0,m=0,$.getJSON("https://www.reddit.com/user/"+command[2]+".json?"+g+"jsonp=?",function(t){var e=t.data.children;$(e).each(function(){if("t3"==this.kind)permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='margin-top: 2%;width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0});else if("t1"==this.kind){var t="";if(author=this.data.author,x.push(author),body=this.data.body,created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,x.push(subreddit),link_id=this.data.link_id,link_id=link_id.replace("t3_",""),link_id=link_id.replace("t1_",""),p="https://www.reddit.com/r/"+subreddit+"/comments/"+link_id+"/",ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='margin-top: 2%;float: left;width: 100%;'>[<span style='color: #B1AB19;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),t=line1+line2+line3,b.echo(t,{raw:!0}),u+=1;for(var e=0,a=this.data.replies.data.children.length;a>e;e++)"t1"==this.data.replies.data.children[e].kind&&(nested_author=this.data.replies.data.children[e].data.author,nested_body=this.data.replies.data.children[e].data.body,nested_created=this.data.replies.data.children[e].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[e].data.ups,nested_count=this.data.replies.data.children[e].data.count,nested_id=this.data.replies.data.children[e].data.id,""!=this.data.replies.data.children[e].data.replies?(nested_count=this.data.replies.data.children[e].data.replies.data.children.length,nest_line1="<div style='margin-top:2%;float: left;width: 100%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-top:2%;float: left;width: 100%;>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})))}else nested_count=0,line1="<div style='margin-top:2%;float: left;width: 100%;'>[<span style='color: #B1AB19;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),u+=1,t=line1+line2+line3,b.echo(t,{raw:!0})}});var a=t.data.after,i=t.data.before;null!=i&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+g+"count="+m+"&before="+i+"&jsonp=?",d=permalink,console.log(d),previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,console.log(_),next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0})),b.set_prompt("[guest@reddit "+command[2]+"]# "),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])})):0!==s.length&&"reddit"==command[0]&&"user"==command[1]&&command[2]&&"next"==command[3]?(d="",x=v,$.getJSON(_,function(t){var e=t.data.children;$(e).each(function(){if("t3"==this.kind)permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='margin-top: 2%;width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0});else if("t1"==this.kind){var t="";if(author=this.data.author,x.push(author),body=this.data.body,created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,x.push(subreddit),link_id=this.data.link_id,link_id=link_id.replace("t3_",""),link_id=link_id.replace("t1_",""),p="https://www.reddit.com/r/"+subreddit+"/comments/"+link_id+"/",ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='margin-top: 2%;float: left;width: 100%;'>[<span style='color: #B1AB19;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),t=line1+line2+line3,b.echo(t,{raw:!0}),u+=1;for(var e=0,a=this.data.replies.data.children.length;a>e;e++)"t1"==this.data.replies.data.children[e].kind&&(nested_author=this.data.replies.data.children[e].data.author,nested_body=this.data.replies.data.children[e].data.body,nested_created=this.data.replies.data.children[e].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[e].data.ups,nested_count=this.data.replies.data.children[e].data.count,nested_id=this.data.replies.data.children[e].data.id,""!=this.data.replies.data.children[e].data.replies?(nested_count=this.data.replies.data.children[e].data.replies.data.children.length,nest_line1="<div style='margin-top:2%;float: left;width: 100%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-top:2%;float: left;width: 100%;>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u+=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})))}else nested_count=0,line1="<div style='margin-top:2%;float: left;width: 100%;'>[<span style='color: #B1AB19;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),u+=1,t=line1+line2+line3,b.echo(t,{raw:!0})}});var a=t.data.after,i=t.data.before;null!=i&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+g+"count="+m+"&before="+i+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0})),b.set_prompt("[guest@reddit "+command[2]+"]# "),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])})):0!==s.length&&"reddit"==command[0]&&"user"==command[1]&&command[2]&&"previous"==command[3]?(_="",x=v,$.getJSON(d,function(t){var e=t.data.children;$(e).each(function(){if("t3"==this.kind)permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='margin-top: 2%;width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m-=1,b.echo(k,{raw:!0});else if("t1"==this.kind){var t="";if(author=this.data.author,x.push(author),body=this.data.body,created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,x.push(subreddit),link_id=this.data.link_id,link_id=link_id.replace("t3_",""),link_id=link_id.replace("t1_",""),p="https://www.reddit.com/r/"+subreddit+"/comments/"+link_id+"/",ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='margin-top: 2%;float: left;width: 100%;'>[<span style='color: #B1AB19;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),t=line1+line2+line3,b.echo(t,{raw:!0}),u-=1;for(var e=0,a=this.data.replies.data.children.length;a>e;e++)"t1"==this.data.replies.data.children[e].kind&&(nested_author=this.data.replies.data.children[e].data.author,nested_body=this.data.replies.data.children[e].data.body,nested_created=this.data.replies.data.children[e].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[e].data.ups,nested_count=this.data.replies.data.children[e].data.count,nested_id=this.data.replies.data.children[e].data.id,""!=this.data.replies.data.children[e].data.replies?(nested_count=this.data.replies.data.children[e].data.replies.data.children.length,nest_line1="<div style='margin-top:2%;float: left;width: 100%;'>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u-=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-top:2%;float: left;width: 100%;>[<span style='color: #2C9A96;'>"+u+"</span>] "+nested_body+"<br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=p+nested_id,n.push(nested_url),u-=1,t=nest_line1+nest_line2+nest_line3,b.echo(t,{raw:!0})))}else nested_count=0,line1="<div style='margin-top:2%;float: left;width: 100%;'>[<span style='color: #B1AB19;'>"+u+"</span>] "+body+"<br />",line2="<span style='color: #666;'>posted "+time+" by "+author+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=p+id,n.push(comment_url),u-=1,t=line1+line2+line3,b.echo(t,{raw:!0})}});var a=t.data.after,i=t.data.before;null!=i&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+g+"count="+m+"&before="+i+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0})),b.set_prompt("[guest@reddit "+command[2]+"]# "),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])})):"settings images on"==t||"set img on"==t?(y=!0,b.echo("display images <strong>on</strong>",{raw:!0})):"settings images off"==t||"set img off"==t?(y=!1,b.echo("display images <strong>off</strong>",{raw:!0})):"settings"==command[1]&&"limit"==command[2]&&command[3]?"auto"==command[3]?(w=$(window.top).height(),g="limit="+(Math.round(w/54)-3)+"&",b.echo("limit set to auto",{raw:!0})):command[3]<=100?(g="limit="+command[3]+"&",b.echo("limit set to "+command[3],{raw:!0})):b.echo("limit cannot exceed 100",{raw:!0}):"help"==t?e(b):"about"==t?a(b):t.indexOf("rm -rf")>-1||t.indexOf(":(){: | :&}")>-1||t.indexOf("command > /dev/sda")>-1||t.indexOf("mkfs.ext4 /dev/sda1")>-1||t.indexOf("dd if=/dev/random")>-1||t.indexOf("mv ~ /dev/null")>-1||t.indexOf("wget http")>-1||t.indexOf("sudo make me a sandwich")>-1?b.echo("<img src='css/newman.gif' /><p />",{raw:!0}):b.echo("command not recognized",{raw:!0}):(_="",x=v,$.getJSON(d,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,permalink=permalink.replace("?ref=search_posts",""),url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m-=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit search]# "))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit search]# ")),null!=a&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit search]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])})):(d="",x=v,$.getJSON(_,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,permalink=permalink.replace("?ref=search_posts",""),url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit search]# "))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit search]# ")),null!=a&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit search]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])}));else x=v,i=[],_="",d="",h=0,$.getJSON("https://www.reddit.com/subreddits/.json?"+g+"jsonp=?",function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(url=this.data.url,display_name=this.data.display_name,x.push(display_name),title=this.data.title,line1="<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+h+"</span>] <a href='https://reddit.com"+url+"' target='_blank'>/r/"+display_name+" - "+title+"</a><br />",description=this.data.public_description,line2="<span style='color: #666;'>"+description+"</span><br />",subscribers=this.data.subscribers,created=this.data.created_utc,time=moment.unix(created).fromNow(),line3="<span style='color: #666;'>"+subscribers+" subscribers since starting "+time+"</span><p />",k=line1+line2+line3+"</div>",h+=1,b.echo(k,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# "))});var a=t.data.after,s=t.data.before;null!=s&&(permalink="https://www.reddit.com/subreddits/.json?"+g+"count="+h+"&before="+s+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# ")),null!=a&&(permalink="https://www.reddit.com/subreddits/.json?"+g+"count="+h+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit subreddits]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else _="",x=v,$.getJSON(d,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m-=1,b.echo(k,{raw:!0}))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/.json?"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/.json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit ~]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else d="",x=v,$.getJSON(_,function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0}))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/.json?"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/.json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit ~]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])});else s=[],n=[],i=[],r=[],_="",d="",o="",l="",p="",c="",m=0,u=0,h=0,f=0,$.getJSON("https://www.reddit.com/.json?"+g+"jsonp=?",function(t){var e=t.data.children;$(e).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,r.push(url),s.push(permalink),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x.push(subreddit),line1=url?"<div style='width:100%;float:left;'>[<span style='color: #2C9A96;'>"+m+"</span>] <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&y&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,x.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",k=line1+line2+line3+"</div>",m+=1,b.echo(k,{raw:!0}))});var a=t.data.after,n=t.data.before;null!=n&&(permalink="https://www.reddit.com/.json?"+g+"count="+m+"&before="+n+"&jsonp=?",d=permalink,previous_line="<span>[<span style='color: #B3A600;'>previous</span>]<p />",b.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/.json?"+g+"count="+m+"&after="+a+"&jsonp=?",_=permalink,next_line="<span>[<span style='color: #B3A600;'>next</span>]<p />",b.echo(next_line,{raw:!0}),b.set_prompt("[guest@reddit ~]# ")),x=x.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])})},{name:"xxx",greetings:null,completion:function(t,e,a){a(x)},onInit:function(t){e(t),t.set_prompt("[guest@reddit ~]# "),$(".clipboard").focus(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&t.echo("warning: reddit shell may not work on mobile devices",{raw:!0})},onBlur:function(){return!1},keydown:function(){return b?!1:void 0}})});